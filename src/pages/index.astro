// src/pages/projects.astro
import BaseLayout from "../layouts/BaseLayout.astro";
import ProjectCard from "../components/ProjectCard.astro";

const projects = [
{
title: "PowerSage Analyzer",
description: "Real-time dashboard that analyzes household power usage and flags inefficiencies.",
demo: "https://xc4gpf.csb.app/",
repo: "https://github.com/MathioLucas/PowerSageAnaylzer",
screenshot: "/Power.png"
},
{
title: "Molecular Explorer",
description: "Browser tool for exploring and annotating molecule structures in 3-D.",
demo: "https://zg4l68-4322.csb.app/",
repo: "https://github.com/MathioLucas/Molecular_explorer",
screenshot: "/Molecule.png"
},
{
title: "Google Demo",
description: "Pixel-perfect Google homepage clone with a working search bar and responsive layout.",
demo: "https://z9tqg6-5173.csb.app/",
repo: "https://github.com/MathioLucas/GoogleDemo",
screenshot: "/Google.png"
}
];
---

<BaseLayout title="Projects â€“ Mathio Luca">
  <!-- HEADER with Navigation -->
  <header class="w-full px-6 py-4 flex justify-between items-center relative z-10">
    <a href="/" class="logo text-2xl text-[#c19e57] font-bold">Mathio&nbsp;Luca</a>
    <nav class="flex gap-6">
      <a class="nav-link text-white/90 hover:text-[#c19e57]" href="/">Home</a>
      <a class="nav-link text-[#c19e57] font-semibold" href="/projects/">Projects</a>
      <a class="nav-link text-white/90 hover:text-[#c19e57]" href="/contact/">Contact</a>
      <a class="nav-link text-white/90 hover:text-[#c19e57]" href="https://mathiolucas-8mdfee1i4-mathiolucas-projects.vercel.app/lucaMMathioResume.pdf" id="resume-link">Resume</a>
    </nav>
  </header>

  <section class="relative min-h-screen flex flex-col items-center px-6 py-20">
    <!-- animated radial-mesh background -->
    <div class="painting-bg absolute inset-0 -z-10"></div>

    <h1 class="text-4xl md:text-5xl font-black text-[#c19e57] drop-shadow-sm mb-3">
      Featured&nbsp;Projects
    </h1>
    <p class="text-lg md:text-xl text-white/80 mb-12 text-center max-w-2xl">
      Hand-picked builds that show my love for performance, polish, and clean architecture.
    </p>

    <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3 w-full max-w-6xl">
      {projects.map((p) => <ProjectCard {...p} />)}
    </div>
  </section>

  <!-- page-only styles -->
  <style is:global>
    /* Navigation styles for dark theme */
    .nav-link {
      position: relative;
      font-size: 0.875rem;
      font-weight: 500;
      transition: color 0.3s ease;
    }
    
    .nav-link::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -2px;
      width: 0;
      height: 2px;
      background: #c19e57;
      transition: width 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .nav-link:hover::after {
      width: 100%;
    }

    .painting-bg {
      position: absolute;
      inset: 0;
      background: radial-gradient(120% 120% at 30% 20%, #1f2736 0%, #0f121b 50%, #000 100%);
      animation: bgShift 22s ease-in-out infinite alternate;
    }
    
    @keyframes bgShift {
      from { background-position: 0 0; }
      to { background-position: 100% 100%; }
    }
    
    .painting-bg::after {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background-image: 
        linear-gradient(transparent 95%, rgba(255,255,255,.06) 100%),
        linear-gradient(90deg,transparent 95%, rgba(255,255,255,.06) 100%);
      background-size: 3rem 3rem;
      mix-blend-mode: overlay;
      animation: gridMove 60s linear infinite;
    }
    
    @keyframes gridMove {
      to { transform: translate3d(-3rem, -3rem, 0); }
    }
  </style>

  <!-- Scripts for resume download functionality -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js" integrity="sha512-Qlv6VSKh1gDKGoJbnyA5RMXYcvnpIqhO++MhIM2fStMcGT9i2T//tSwYFlcyoRRDcDZ+TYHpH8azBBCyhpSeqw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script is:inline>
    document.getElementById('resume-link').addEventListener('click', e => {
      e.preventDefault();
      const pdfUrl = "https://mathiolucas-8mdfee1i4-mathiolucas-projects.vercel.app/lucaMMathioResume.pdf";
      const fileName = "Lucas_Mathio_Resume.pdf";
      if (window.saveAs) {
        try { saveAs(pdfUrl, fileName); return; } catch (err) {}
      }
      window.open(pdfUrl, '_blank');
    });
  </script>
</BaseLayout>
