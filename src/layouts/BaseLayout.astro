---
/*
  Props:
    title        – project name
    description  – one-liner
    demo         – URL users visit when they click the card
    repo         – GitHub repository URL
    screenshot   – local or remote image URL
*/
const { title, description, demo, repo, screenshot } = Astro.props;
// Fallback screenshot (only used if you omit the prop)
const preview =
  screenshot ?? `https://image.thum.io/get/width/900/crop/675/noanimate/${encodeURIComponent(demo)}`;
---
<a
  href={demo}
  target="_blank"
  rel="noopener noreferrer"
  class="group relative block aspect-video rounded-xl overflow-hidden
         shadow-xl ring-1 ring-white/10 hover:ring-[#c19e57]/60 transition"
>
  <!-- static thumbnail ------------------------------------------------- -->
  <img
    src={preview}
    alt={`${title} preview`}
    loading="lazy"
    class="absolute inset-0 w-full h-full object-cover object-top
           transition duration-300 group-hover:blur-[2px] group-hover:scale-105"
  />
  <!-- hover overlay ---------------------------------------------------- -->
  <div
    class="absolute inset-0 z-10 flex flex-col justify-between p-4
           bg-black/60 opacity-0 group-hover:opacity-100
           transition-opacity duration-300 pointer-events-none"
  >
    <!-- GitHub badge -->
    <a
      href={repo}
      target="_blank"
      rel="noopener noreferrer"
      class="self-end p-2 bg-white/10 rounded-full
             hover:bg-white/20 transition pointer-events-auto"
      onclick="event.stopPropagation()"
    >
      <svg class="w-5 h-5 text-[#c19e57]" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 .3A12 12 0 0 0 0 12a12 12 0 0 0 8.21 11.44c.6.12.82-.25.82-.57
                 0-.28-.01-1.04-.02-2.05-3.34.72-4.05-1.6-4.05-1.6-.55-1.4-1.35-1.77-1.35-1.77
                 -1.1-.75.08-.74.08-.74 1.2.08 1.85 1.24 1.85 1.24 1.07 1.85 2.81 1.32 3.49 1
                 .11-.78.42-1.31.76-1.62-2.66-.31-5.47-1.35-5.47-5.95
                 0-1.3.47-2.37 1.24-3.22-.13-.3-.54-1.52.12-3.15 0 0 1-.33 3.3 1.23a11.4
                 11.4 0 0 1 6 0c2.3-1.56 3.3-1.23 3.3-1.23.66 1.63.25 2.85.12 3.15
                 .77.85 1.24 1.92 1.24 3.22 0 4.61-2.8 5.64-5.49 5.94.43.36.82 1.1.82 2.22
                 0 1.6-.02 2.88-.02 3.27 0 .32.22.69.83.57A12 12 0 0 0 24 12
                 12 12 0 0 0 12 .3Z"/>
      </svg>
    </a>
    <!-- title + description -->
    <div class="pointer-events-none">
      <h3 class="text-lg font-bold text-white mb-1">{title}</h3>
      <p class="text-sm text-white/80">{description}</p>
    </div>
  </div>
</a>
